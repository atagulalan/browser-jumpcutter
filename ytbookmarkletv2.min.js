/*
Developed by Simon Cheng
Last updated on 11/07/2019 where the format is MM/DD/YYYY
*/
!function(){if(window.isJumpCutterRunning)window.location.reload();else{window.isJumpCutterRunning=!0;var o=document.getElementsByTagName("video")[0],a=1,i=0,r=0,s=prompt("Talking speed",1.5),c=prompt("Silence speed",5),p=prompt("Percentage threshold",3),u=prompt("Number of set of unspikes before change to silence",70),l=prompt("Number of set of spikes before change to talk. Setting to -1 changes to talk instantly when one spike occurs",0),d=prompt("Least number of spikes in order to treat as talking",30),e=new window.AudioContext,t=e.createScriptProcessor(256,1,1),n=e.createMediaElementSource(o);n.connect(t),n.connect(e.destination),t.connect(e.destination),a=o.playbackRate,t.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0),n=0;if(t.forEach(function(e){Math.abs(e)>p/100&&n++}),d<n||-1==l&&0<n){if(0<r--)return;i=0,s!==a&&(a=s,o.playbackRate=s)}else i++>u&&(r=l,c!==a&&(a=c,o.playbackRate=c))}}}();